@page "/create"
@inherits JobApplications.Blazor.Client.Pages.CreateRazor

<PageTitle>Create Job Application</PageTitle>

<RadzenText TextStyle="TextStyle.DisplayH3">Create Job Application</RadzenText>

@if (HasError)
{
    <RadzenProblemDetails Problem="ProblemDetails" />
}

<RadzenTemplateForm TItem="JobApplication" Data=@JobApplication Submit=@OnSubmit InvalidSubmit=@OnInvalidSubmit>
    <RadzenFieldset Text="Job Application" Data="@JobApplication">
        <RadzenStack Gap="1rem">
            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Url" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="9">
                    <RadzenTextBox Name="Url" @bind-Value="JobApplication.Url" MaxLength="255" Disabled="@IsBusy" class="w-100" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeLG="3">
                    <RadzenLabel Text="Job Id" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenTextBox Name="JobId" @bind-Value="JobApplication.JobId" MaxLength="50" Disabled="@IsBusy" class="w-100" />
                    <RadzenRequiredValidator Text="Job Id is required" Component="JobId" Popup="true" Style="position: absolute" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Job Ref" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenTextBox Name="JobRef" @bind-Value="JobApplication.JobRef" MaxLength="50" Disabled="@IsBusy" class="w-100" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeLG="2">
                    <RadzenLabel Text="Contact Name" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="4">
                    <RadzenTextBox Name="ContactName" @bind-Value="JobApplication.ContactName" MaxLength="50" Disabled="@IsBusy" class="w-100" />
                    <RadzenRequiredValidator Text="Contact Name is required" Component="ContactName" Popup="true" Style="position: absolute" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Company" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenTextBox Name="Company" @bind-Value="JobApplication.Company" MaxLength="50" Disabled="@IsBusy" class="w-100" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Telephone" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenTextBox Name="Telephone" @bind-Value="JobApplication.Telephone" MaxLength="50" Disabled="@IsBusy" class="w-100" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Email" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="4">
                    <RadzenTextBox Name="Email" @bind-Value="JobApplication.Email" MaxLength="100" Disabled="@IsBusy" class="w-100" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Notes" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="1">
                    <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="optional" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="9">
                    <RadzenTextArea Name="Notes" @bind-Value="JobApplication.Notes" Rows="5" class="w-100" />
                </RadzenColumn>
            </RadzenRow>
        </RadzenStack>
    </RadzenFieldset>

    <RadzenStack Orientation="Orientation.Horizontal"
                 AlignItems="AlignItems.Start"
                 JustifyContent="JustifyContent.Left"
                 Gap="1rem"
                 Wrap="FlexWrap.Wrap"
                 class="rz-py-6">
        <RadzenButton style="width: 120px" IsBusy=@IsBusy Click=@Cancel Text="Cancel" />
        <RadzenButton ButtonType="ButtonType.Submit" style="width: 120px" Icon="save" BusyText="Saving" IsBusy=@IsBusy Text="Save" />
    </RadzenStack>
</RadzenTemplateForm>